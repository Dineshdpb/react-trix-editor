{"ast":null,"code":"import _createForOfIteratorHelper from \"/Users/pravin/Desktop/dinesh-web/react-trix-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\n\nvar _jsxFileName = \"/Users/pravin/Desktop/dinesh-web/react-trix-editor/src/Obeserver.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport var Obeserver = function Obeserver(_ref) {\n  _s();\n\n  var editor = _ref.editor;\n  React.useEffect(function () {\n    var observer = new MutationObserver(function (mutations) {\n      debugger;\n      mutations.forEach(function (_ref2) {\n        var type = _ref2.type,\n            target = _ref2.target,\n            attributeName = _ref2.attributeName;\n\n        // If the parent is a figure with an img target\n        if (target.parentNode.tagName === 'FIGURE' && target.nodeName === 'IMG') {\n          if (type === 'attributes') {\n            switch (attributeName) {\n              // If we have attribute width\n              case 'width':\n                // Remove attribute width\n                target.removeAttribute('width'); // Add img-fluid only once\n\n                target.classList.add('img-fluid');\n                break;\n              // If we have attribute height\n\n              case 'height':\n                // Remove attribute height\n                target.removeAttribute('height');\n                break;\n            }\n          } // Render images HTML code\n\n\n          renderHtmlOutput();\n        }\n      });\n    });\n\n    if (editor.current) {\n      observer.observe(editor, {\n        attributes: true,\n        childList: true,\n        subtree: true\n      });\n    }\n  }); // Function to render every figure > img HTML code\n\n  function renderHtmlOutput() {\n    var images = editor.querySelectorAll('figure > img');\n    var output = '';\n\n    var _iterator = _createForOfIteratorHelper(images),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var image = _step.value;\n        output += image.outerHTML.replace(/ /g, \"\\n  \") + \"\\n\";\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    document.getElementById('output-html').textContent = output;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Obeserver\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Obeserver, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Obeserver;\n\nvar _c;\n\n$RefreshReg$(_c, \"Obeserver\");","map":{"version":3,"sources":["/Users/pravin/Desktop/dinesh-web/react-trix-editor/src/Obeserver.jsx"],"names":["React","Obeserver","editor","useEffect","observer","MutationObserver","mutations","forEach","type","target","attributeName","parentNode","tagName","nodeName","removeAttribute","classList","add","renderHtmlOutput","current","observe","attributes","childList","subtree","images","querySelectorAll","output","image","outerHTML","replace","document","getElementById","textContent"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAc;AAAA;;AAAA,MAAZC,MAAY,QAAZA,MAAY;AACnCF,EAAAA,KAAK,CAACG,SAAN,CAAgB,YAAI;AAChB,QAAMC,QAAQ,GAAG,IAAIC,gBAAJ,CAAqB,UAAUC,SAAV,EAAqB;AAC7D;AACJA,MAAAA,SAAS,CAACC,OAAV,CAAkB,iBAAqC;AAAA,YAAlCC,IAAkC,SAAlCA,IAAkC;AAAA,YAA5BC,MAA4B,SAA5BA,MAA4B;AAAA,YAApBC,aAAoB,SAApBA,aAAoB;;AAErD;AACA,YAAID,MAAM,CAACE,UAAP,CAAkBC,OAAlB,KAA8B,QAA9B,IACAH,MAAM,CAACI,QAAP,KAAoB,KADxB,EAEA;AACE,cAAIL,IAAI,KAAK,YAAb,EAA2B;AACzB,oBAAOE,aAAP;AAEE;AACA,mBAAK,OAAL;AACE;AACAD,gBAAAA,MAAM,CAACK,eAAP,CAAuB,OAAvB,EAFF,CAGE;;AACAL,gBAAAA,MAAM,CAACM,SAAP,CAAiBC,GAAjB,CAAqB,WAArB;AACA;AAEF;;AACA,mBAAK,QAAL;AACE;AACAP,gBAAAA,MAAM,CAACK,eAAP,CAAuB,QAAvB;AACA;AAdJ;AAgBD,WAlBH,CAoBE;;;AACAG,UAAAA,gBAAgB;AACjB;AAEF,OA7BD;AA8BD,KAhCwB,CAAjB;;AAiCR,QAAGf,MAAM,CAACgB,OAAV,EAAkB;AACdd,MAAAA,QAAQ,CAACe,OAAT,CAAiBjB,MAAjB,EAAyB;AAC3BkB,QAAAA,UAAU,EAAE,IADe;AAE3BC,QAAAA,SAAS,EAAE,IAFgB;AAG3BC,QAAAA,OAAO,EAAE;AAHkB,OAAzB;AAKH;AACI,GAzCD,EADmC,CA2CnC;;AACJ,WAASL,gBAAT,GAA4B;AAC1B,QAAMM,MAAM,GAAGrB,MAAM,CAACsB,gBAAP,CAAwB,cAAxB,CAAf;AACA,QAAIC,MAAM,GAAG,EAAb;;AAF0B,+CAIPF,MAJO;AAAA;;AAAA;AAI1B,0DAA2B;AAAA,YAAjBG,KAAiB;AACzBD,QAAAA,MAAM,IAAIC,KAAK,CAACC,SAAN,CAAgBC,OAAhB,CAAwB,IAAxB,EAA8B,MAA9B,IAAwC,IAAlD;AACD;AANyB;AAAA;AAAA;AAAA;AAAA;;AAQ1BC,IAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,WAAvC,GAAqDN,MAArD;AACD;;AACC,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAGD,CAzDM;;GAAMxB,S;;KAAAA,S","sourcesContent":["import React from 'react'\n\nexport const Obeserver = ({editor}) => {\n    React.useEffect(()=>{\n        const observer = new MutationObserver(function (mutations) {\n      debugger\n  mutations.forEach(({ type, target, attributeName }) => {\n    \n    // If the parent is a figure with an img target\n    if (target.parentNode.tagName === 'FIGURE' && \n        target.nodeName === 'IMG')\n    {\n      if (type === 'attributes') {\n        switch(attributeName) {\n\n          // If we have attribute width\n          case 'width':\n            // Remove attribute width\n            target.removeAttribute('width');\n            // Add img-fluid only once\n            target.classList.add('img-fluid');\n            break;\n\n          // If we have attribute height\n          case 'height':\n            // Remove attribute height\n            target.removeAttribute('height');\n            break;\n        }\n      }\n\n      // Render images HTML code\n      renderHtmlOutput();\n    }\n\n  });\n});\nif(editor.current){\n    observer.observe(editor, {\n  attributes: true,\n  childList: true,\n  subtree: true\n});\n}\n    })\n    // Function to render every figure > img HTML code\nfunction renderHtmlOutput() {\n  const images = editor.querySelectorAll('figure > img');\n  let output = '';\n\n  for(const image of images) {\n    output += image.outerHTML.replace(/ /g, \"\\n  \") + \"\\n\";\n  }\n\n  document.getElementById('output-html').textContent = output;\n}\n  return (\n    <div>Obeserver</div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}