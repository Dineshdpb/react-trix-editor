{"ast":null,"code":"import _classCallCheck from \"/Users/pravin/Desktop/dinesh-web/react-trix-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/pravin/Desktop/dinesh-web/react-trix-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/pravin/Desktop/dinesh-web/react-trix-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/pravin/Desktop/dinesh-web/react-trix-editor/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"/Users/pravin/Desktop/dinesh-web/react-trix-editor/src/Editor.jsx\";\nimport React, { Component } from \"react\";\nimport Trix from \"trix\";\nimport \"trix/dist/trix.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Editor = /*#__PURE__*/function (_React$Component) {\n  _inherits(Editor, _React$Component);\n\n  var _super = _createSuper(Editor);\n\n  function Editor(props) {\n    var _this;\n\n    _classCallCheck(this, Editor);\n\n    _this = _super.call(this, props);\n    _this.ediotrInput = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  _createClass(Editor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.ediotrInput.current.addEventListener('trix-initialize', function (e) {\n        var editor = e.target;\n        var toolbar = editor.toolbarElement;\n        var ttools = toolbar.querySelector(\".trix-button-group--text-tools\");\n        var dialogs = toolbar.querySelector(\".trix-dialogs\");\n        var trixId = editor.trixId;\n        var buttonContent = \"\\n        <button type=\\\"button\\\"\\n          class=\\\"trix-button trix-button--icon trix-button--icon-attach\\\"\\n          data-trix-attribute=\\\"attach\\\"\\n          data-trix-key=\\\"+\\\" title=\\\"Attach file\\\" tabindex=\\\"-1\\\">\\n        </button>\\n      \";\n        var dialogContent = \"\\n        <div class=\\\"trix-dialog trix-dialog--attach\\\" data-trix-dialog=\\\"attach\\\" data-trix-dialog-attribute=\\\"attach\\\">\\n          <div class=\\\"trix-dialog__attach-fields\\\">\\n            <input type=\\\"file\\\" class=\\\"trix-input trix-input--dialog\\\">\\n            <div class=\\\"trix-button-group\\\">\\n              <input type=\\\"button\\\" class=\\\"trix-button trix-button--dialog\\\"\\n                onclick=\\\"\\n                  var trix = document.querySelector('trix-editor[trix-id=\\\\'\".concat(trixId, \"\\\\']');\\n                  var fileElm = this.parentElement.parentElement.querySelector('input[type=\\\\'file\\\\']');\\n                  if ( fileElm.files.length == 0 ) {\\n                    console.log('nothing selected');\\n                    return;\\n                  }\\n                  var file = fileElm.files[0];\\n                  trix.editor.insertFile(file);\\n                \\\"\\n                value=\\\"Attach\\\" data-trix-method=\\\"removeAttribute\\\">\\n              <input type=\\\"button\\\" class=\\\"trix-button trix-button--dialog\\\" value=\\\"Cancel\\\" data-trix-method=\\\"removeAttribute\\\">\\n            </div>\\n          </div>\\n        </div>\\n      \"); // add attach icon button\n\n        ttools.insertAdjacentHTML(\"beforeend\", buttonContent); // add dialog\n\n        dialogs.insertAdjacentHTML(\"beforeend\", dialogContent);\n      });\n      this.ediotrInput.current.addEventListener(\"trix-change\", function (event) {\n        _this2.props.onChange(event.target.innerHTML); //calling custom event\n\n      });\n      this.ediotrInput.current.addEventListener(\"trix-attachment-add\", function (event) {\n        console.log(event.attachment);\n\n        if (event.attachment.file) {\n          debugger;\n          setContent(attachment, data); // uploadFileAttachment(event.attachment)\n        }\n      });\n      this.ediotrInput.current.addEventListener(\"trix-attachment-remove\", function (event) {\n        console.log(event);\n      });\n      this.ediotrInput.current.addEventListener(\"trix-file-accept\", function (event) {\n        console.log(event);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"hidden\",\n          id: \"trix\",\n          value: this.props.value\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"trix-editor\", {\n          input: \"trix\",\n          ref: this.ediotrInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }, this);\n    }\n  }, {\n    key: \"uploadFileAttachment\",\n    value: function uploadFileAttachment(attachment) {\n      uploadFile(attachment.file, setProgress, setAttributes);\n\n      function setProgress(progress) {\n        attachment.setUploadProgress(progress);\n      }\n\n      function setAttributes(attributes) {\n        attachment.setAttributes(attributes);\n      }\n    }\n  }, {\n    key: \"setContent\",\n    value: function setContent(attachment, data) {\n      var file = attachment.file;\n      var attributes = {\n        previewable: false,\n        url: data.url,\n        href: data.url\n      };\n\n      if (!data.mime) {\n        data.mime = \"application/file\";\n      }\n\n      if (data.mime.includes(\"image\")) {\n        // image\n        attributes[\"content\"] = \"\\n            <span class=\\\"trix-preview-image\\\" data-url=\\\"\".concat(data.url, \"\\\"  data-name=\\\"\").concat(file.name, \"\\\" >\\n                <img src=\\\"\").concat(data.url, \"\\\" /> \\n            <span>\\n        \");\n      } else if (data.mime.includes(\"video\")) {\n        // video\n        attributes[\"content\"] = \"\\n            <span class=\\\"trix-preview-video\\\"  data-url=\\\"\".concat(data.url, \"\\\"  data-name=\\\"\").concat(file.name, \"\\\" >\\n                <video width=\\\"100%\\\" height=\\\"auto\\\" controls>\\n                    <source src=\\\"\").concat(data.url, \"\\\" type=\\\"\").concat(data.mime, \"\\\">\\n                </video>\\n            <span>\\n        \");\n      } else {\n        // other\n        attributes[\"content\"] = \"\\n            <span class=\\\"trix-preview-file\\\" data-url=\\\"\".concat(data.url, \"\\\"  data-name=\\\"\").concat(file.name, \"\\\" >\\n                \").concat(file.name, \"\\n            <span>\\n        \");\n      }\n\n      attachment.setAttributes(attributes);\n    }\n  }, {\n    key: \"uploadFile\",\n    value: function uploadFile(file, progressCallback, successCallback) {\n      var key = createStorageKey(file);\n      var formData = createFormData(key, file);\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", HOST, true);\n      xhr.upload.addEventListener(\"progress\", function (event) {\n        var progress = event.loaded / event.total * 100;\n        progressCallback(progress);\n      });\n      xhr.addEventListener(\"load\", function (event) {\n        if (xhr.status == 204) {\n          var attributes = {\n            url: HOST + key,\n            href: HOST + key + \"?content-disposition=attachment\"\n          };\n          successCallback(attributes);\n        }\n      });\n      xhr.send(formData);\n    }\n  }, {\n    key: \"createStorageKey\",\n    value: function createStorageKey(file) {\n      var date = new Date();\n      var day = date.toISOString().slice(0, 10);\n      var name = date.getTime() + \"-\" + file.name;\n      return [\"tmp\", day, name].join(\"/\");\n    }\n  }, {\n    key: \"createFormData\",\n    value: function createFormData(key, file) {\n      var data = new FormData();\n      data.append(\"key\", key);\n      data.append(\"Content-Type\", file.type);\n      data.append(\"file\", file);\n      return data;\n    }\n  }]);\n\n  return Editor;\n}(React.Component);\n\nexport default Editor;","map":{"version":3,"sources":["/Users/pravin/Desktop/dinesh-web/react-trix-editor/src/Editor.jsx"],"names":["React","Component","Trix","Editor","props","ediotrInput","createRef","current","addEventListener","e","editor","target","toolbar","toolbarElement","ttools","querySelector","dialogs","trixId","buttonContent","dialogContent","insertAdjacentHTML","event","onChange","innerHTML","console","log","attachment","file","setContent","data","value","uploadFile","setProgress","setAttributes","progress","setUploadProgress","attributes","previewable","url","href","mime","includes","name","progressCallback","successCallback","key","createStorageKey","formData","createFormData","xhr","XMLHttpRequest","open","HOST","upload","loaded","total","status","send","date","Date","day","toISOString","slice","getTime","join","FormData","append","type"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Trix from \"trix\";\nimport \"trix/dist/trix.css\";\nclass Editor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.ediotrInput = React.createRef();\n  }\n  componentDidMount() {\n    this.ediotrInput.current.addEventListener('trix-initialize', function(e) {\n      let editor  = e.target;\n      let toolbar = editor.toolbarElement;\n      let ttools  = toolbar.querySelector(\".trix-button-group--text-tools\");\n      let dialogs = toolbar.querySelector(\".trix-dialogs\");\n      let trixId  = editor.trixId;\n    \n      let buttonContent = `\n        <button type=\"button\"\n          class=\"trix-button trix-button--icon trix-button--icon-attach\"\n          data-trix-attribute=\"attach\"\n          data-trix-key=\"+\" title=\"Attach file\" tabindex=\"-1\">\n        </button>\n      `;\n    \n      let dialogContent = `\n        <div class=\"trix-dialog trix-dialog--attach\" data-trix-dialog=\"attach\" data-trix-dialog-attribute=\"attach\">\n          <div class=\"trix-dialog__attach-fields\">\n            <input type=\"file\" class=\"trix-input trix-input--dialog\">\n            <div class=\"trix-button-group\">\n              <input type=\"button\" class=\"trix-button trix-button--dialog\"\n                onclick=\"\n                  var trix = document.querySelector('trix-editor[trix-id=\\\\'${trixId}\\\\']');\n                  var fileElm = this.parentElement.parentElement.querySelector('input[type=\\\\'file\\\\']');\n                  if ( fileElm.files.length == 0 ) {\n                    console.log('nothing selected');\n                    return;\n                  }\n                  var file = fileElm.files[0];\n                  trix.editor.insertFile(file);\n                \"\n                value=\"Attach\" data-trix-method=\"removeAttribute\">\n              <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"Cancel\" data-trix-method=\"removeAttribute\">\n            </div>\n          </div>\n        </div>\n      `;\n      // add attach icon button\n      ttools.insertAdjacentHTML(\"beforeend\", buttonContent);\n      // add dialog\n      dialogs.insertAdjacentHTML(\"beforeend\", dialogContent);\n    });\n    this.ediotrInput.current.addEventListener(\"trix-change\", (event) => {\n      this.props.onChange(event.target.innerHTML); //calling custom event\n    });\n    this.ediotrInput.current.addEventListener(\"trix-attachment-add\",(event) => {\n        console.log(event.attachment);\n        if(event.attachment.file){\n          debugger\n          setContent( attachment, data); \n          // uploadFileAttachment(event.attachment)\n        }\n    });\n    this.ediotrInput.current.addEventListener(\"trix-attachment-remove\",(event)=>{\n      console.log(event)\n    })\n    this.ediotrInput.current.addEventListener(\"trix-file-accept\",(event)=>{\n      console.log(event)\n    })\n  }\n  render() {\n    return (\n      <div>\n        <input type=\"hidden\" id=\"trix\" value={this.props.value} />\n        <trix-editor input=\"trix\" ref={this.ediotrInput} />\n      </div>\n    );\n  }\n   uploadFileAttachment(attachment) {\n    uploadFile(attachment.file, setProgress, setAttributes)\n\n    function setProgress(progress) {\n      attachment.setUploadProgress(progress)\n    }\n\n    function setAttributes(attributes) {\n      attachment.setAttributes(attributes)\n    }\n  }\n   setContent( attachment, data ) {\n\n    let file = attachment.file;\n    let attributes ={\n        previewable: false,\n        url: data.url,\n        href: data.url\n    };\n\n    if (!data.mime ){ \n        data.mime = \"application/file\";\n    }\n   \n    if ( data.mime.includes(\"image\") ) { // image\n        attributes[\"content\"] = `\n            <span class=\"trix-preview-image\" data-url=\"${data.url}\"  data-name=\"${file.name}\" >\n                <img src=\"${data.url}\" /> \n            <span>\n        `;\n\n    } else if ( data.mime.includes(\"video\") ) { // video\n        attributes[\"content\"] = `\n            <span class=\"trix-preview-video\"  data-url=\"${data.url}\"  data-name=\"${file.name}\" >\n                <video width=\"100%\" height=\"auto\" controls>\n                    <source src=\"${data.url}\" type=\"${data.mime}\">\n                </video>\n            <span>\n        `;\n\n    } else {  // other\n        attributes[\"content\"] = `\n            <span class=\"trix-preview-file\" data-url=\"${data.url}\"  data-name=\"${file.name}\" >\n                ${file.name}\n            <span>\n        `;\n    }\n\n    attachment.setAttributes(attributes);\n}  \n\n   uploadFile(file, progressCallback, successCallback) {\n    var key = createStorageKey(file)\n    var formData = createFormData(key, file)\n    var xhr = new XMLHttpRequest()\n\n    xhr.open(\"POST\", HOST, true)\n\n    xhr.upload.addEventListener(\"progress\", function(event) {\n      var progress = event.loaded / event.total * 100\n      progressCallback(progress)\n    })\n\n    xhr.addEventListener(\"load\", function(event) {\n      if (xhr.status == 204) {\n        var attributes = {\n          url: HOST + key,\n          href: HOST + key + \"?content-disposition=attachment\"\n        }\n        successCallback(attributes)\n      }\n    })\n\n    xhr.send(formData)\n  }\n\n   createStorageKey(file) {\n    var date = new Date()\n    var day = date.toISOString().slice(0,10)\n    var name = date.getTime() + \"-\" + file.name\n    return [ \"tmp\", day, name ].join(\"/\")\n  }\n\n   createFormData(key, file) {\n    var data = new FormData()\n    data.append(\"key\", key)\n    data.append(\"Content-Type\", file.type)\n    data.append(\"file\", file)\n    return data\n  }\n\n}\n\nexport default Editor;\n"]},"metadata":{},"sourceType":"module"}